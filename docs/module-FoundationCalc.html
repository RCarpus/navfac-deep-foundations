<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: module:FoundationCalc</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: module:FoundationCalc</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>module:FoundationCalc<span class="signature">(detailedSoilProfile, material, pileType, width, bearingDepth, increment, isCompression, FS, ignoredDepth)</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="module:FoundationCalc"><span class="type-signature"></span>new module:FoundationCalc<span class="signature">(detailedSoilProfile, material, pileType, width, bearingDepth, increment, isCompression, FS, ignoredDepth)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Given a detailed soil profile and pile input params,
performs all necessary calculations for a deep foundation. The results
are stored in various params.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>detailedSoilProfile</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>generated by DeepFoundationAnalysis</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>material</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>&quot;TIMBER&quot;, &quot;CONRETE&quot;, or &quot;STEEL&quot;</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pileType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Must be one of the following:
[
&quot;DRIVEN-SINGLE-H-PILE&quot;,
&quot;DRIVEN-SINGLE-DISPLACEMENT-PILE&quot;,
&quot;DRIVEN-SINGLE-DISPLACEMENT-TAPERED-PILE&quot;,
&quot;DRIVEN-JETTED-PILE&quot;,
&quot;DRILLED-PILE&quot;
]</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>Arr with one (circle) or two (rect) nums</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bearingDepth</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>bearing depth of foundation in feet</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>increment</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>thickness of each sublayer (feet)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isCompression</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>true if compression, false if tension</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>FS</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Factor of safety, probably 3</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ignoredDepth</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>depth to ignore in skin friction calc</p></td>
        </tr>

    
    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>detailedSoilProfile</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>material</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pileType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bearingDepth</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>increment</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isCompression</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>FS</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ignoredDepth</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>see params</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contactFrictionAngles</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>

            

            

            <td class="description last"><p>Array of contact friction
angles determined from detailedSoilProfile and material</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>adhesions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>

            

            

            <td class="description last"><p>Array of adhesions determined by
detailedSoilProfile and material</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>earthPressureCoefficient</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Number determined from
pileType and isCompression</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>shape</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Determined from pileType, either &quot;CIRLCE&quot; or
&quot;RECTANGLE&quot;</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pileArea</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Area of the pile determined by it's shape and
width</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pilePerimeter</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Perimeter or circumberence determined by
its shape and width</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isDrilled</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>true if pileType is &quot;DRILLED-SHAFT&quot;
otherwise false</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>granularNq</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Granular bearing capacity factor determined
by isDrilled, detailedSoilProfile, bearingDepth</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cohesiveNc</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Cohesive bearing capacity factor determined
by detailedSoilProfile, bearingDepth</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>limitedBottomStresses</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>contains array of potentially
modifed bottom effective stress values and a boolean indicating if
changes were applied. Determined by detailedSoilProfile, width,
and increment.
{ limitedEffStress : {Array.<number>}, isLimited : {boolean} }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>limitedMidStresses</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>contains array of potentially
modifed middle effective stress values and a boolean indicating if
changes were applied. Determined by detailedSoilProfile, width,
and increment.
{ limitedEffStress : {Array.<number>}, isLimited : {boolean} }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>effStressAtBearing</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>the effective stress at the
bearing elevation. Determined by detailedSoilProfile, bearingDepth</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>skinFrictions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>

            

            

            <td class="description last"><p>array of incremental skin frition
values determined by earthPressureCoefficient, limitedMidStresses,
contactFrictionAngles, pilePerimeter, increment, adhesions,
ignoredDepth, bearingDepth, detailedSoilProfile</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>totalSkinFriction</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>the sum of the values in skinFrictions</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>endBearing</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>the calculated end bearing value based on
cohesionAtBearingDepth, cohesiveNc, effStressAtBearing, granularNq,
pileArea, isCompression</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pileWeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>the weight of the pile based on material,
bearingDepth and pileArea</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ultimateCapacity</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>the ultimate capacity determined from
totalSkinFriction, endBearing.value, pileWeight, isCompression</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>allowableCapacity</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>the allowable capacity determined from
totalSkinFriciton, endBearing.value, pileWeight, isCompression, FS</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="adhesionProfile"><span class="type-signature"></span>adhesionProfile<span class="type-signature"></span></h4>




<div class="description">
    <p>Maps the soil cohesion and material to a new array of
adhesion values (psf)</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line208">line 208</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="bearingCohesion"><span class="type-signature"></span>bearingCohesion<span class="type-signature"></span></h4>




<div class="description">
    <p>Return the cohesion directly below the foundation bearing depth</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line300">line 300</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="bearingEffStress"><span class="type-signature"></span>bearingEffStress<span class="type-signature"></span></h4>




<div class="description">
    <p>Return the effective stress at the base of the foundation</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line313">line 313</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="calcEndBearing"><span class="type-signature"></span>calcEndBearing<span class="type-signature"></span></h4>




<div class="description">
    <p>Calculate the end bearing for the foundation. Uses the cohesive
method if c is greater than zero, otherwise uses the granular method.
Returns 0 if the pile is in tension because end bearing doesn't apply.
Returns an object with value and string indicating which method.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line335">line 335</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="contactFrictionAngleProfile"><span class="type-signature"></span>contactFrictionAngleProfile<span class="type-signature"></span></h4>




<div class="description">
    <p>Maps the soil internal friction angle and material to a new
arrray of contact friction angles</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line194">line 194</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="NqAtBearingDepth"><span class="type-signature"></span>NqAtBearingDepth<span class="type-signature"></span></h4>




<div class="description">
    <p>Determines the granular bearing capacity factor for this pile and
returns the result.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line237">line 237</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="shapeOfPileType"><span class="type-signature"></span>shapeOfPileType<span class="type-signature"></span></h4>




<div class="description">
    <p>maps pileType to shape. The only rectangle is
&quot;DRIVEN-SINGLE-H-PILE&quot;, so we are only checking to see if
this is the shape. Otherwise, it must be a circle.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="skinFrictionProfile"><span class="type-signature"></span>skinFrictionProfile<span class="type-signature"></span></h4>




<div class="description">
    <p>Generates a skin friction profile for the pile. This calculation
accounts for initial ignored depth and stops after the embedment depth.
For each sublayer, granularSkinFriction is called if the phi value
nonzero. Otherwise, cohesiveSkinFriction is called. The function returns
a new array with length equal to the number of sublayers.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="sumAll"><span class="type-signature"></span>sumAll<span class="type-signature"></span></h4>




<div class="description">
    <p>Simple function to sum numbers in an array.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="navfac_FoundationCalc.js.html">navfac/FoundationCalc.js</a>, <a href="navfac_FoundationCalc.js.html#line289">line 289</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AnalysisHeader.html">AnalysisHeader</a></li><li><a href="module-AnalysisView.html">AnalysisView</a></li><li><a href="module-App.html">App</a></li><li><a href="module-CloneProjectView.html">CloneProjectView</a></li><li><a href="module-DeepFoundationAnalyis.html">DeepFoundationAnalyis</a></li><li><a href="module-FoundationCalc.html">FoundationCalc</a></li><li><a href="module-HomeView.html">HomeView</a></li><li><a href="module-LoadingAnimation.html">LoadingAnimation</a></li><li><a href="module-LoadProjectView.html">LoadProjectView</a></li><li><a href="module-Navbar.html">Navbar</a></li><li><a href="module-navfac.html">navfac</a></li><li><a href="module-NewProjectView.html">NewProjectView</a></li><li><a href="module-PileOutput.html">PileOutput</a></li><li><a href="module-ProfileView.html">ProfileView</a></li><li><a href="module-ProjectEditView.html">ProjectEditView</a></li><li><a href="module-ProjectErrors.html">ProjectErrors</a></li><li><a href="module-RegisterView.html">RegisterView</a></li><li><a href="module-SoilProfileOutput.html">SoilProfileOutput</a></li><li><a href="module-SummaryCapacity.html">SummaryCapacity</a></li><li><a href="module-WelcomeView.html">WelcomeView</a></li></ul><h3>Classes</h3><ul><li><a href="module-AnalysisView.html">AnalysisView</a></li><li><a href="module-App-App.html">App</a></li><li><a href="module-CloneProjectView.html">CloneProjectView</a></li><li><a href="module-DeepFoundationAnalyis.html">DeepFoundationAnalyis</a></li><li><a href="module-FoundationCalc.html">FoundationCalc</a></li><li><a href="module-HomeView.html">HomeView</a></li><li><a href="module-LoadProjectView.html">LoadProjectView</a></li><li><a href="module-NewProjectView.html">NewProjectView</a></li><li><a href="module-ProfileView.html">ProfileView</a></li><li><a href="module-ProjectEditView.html">ProjectEditView</a></li><li><a href="module-RegisterView.html">RegisterView</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Thu Feb 17 2022 10:10:31 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>